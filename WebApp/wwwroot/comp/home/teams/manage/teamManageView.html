<div ng-include="'comp/common/pageHeader.html'"></div>
<div class="wrapper wrapper-content animated fadeInRight team-manage-view">
    <div class="box">
        <div class="box-title">
            <h5>Project Assignments</h5>
            <div class="box-tools">
                
            </div>
        </div>
        <div class="box-content">
            <div class="well">
                <h3>
                    <span ng-if="team.colour" class="color-block" ng-style="{'background-color': team.colour}"></span> {{team.name}}
                </h3>
                <p class="text-muted">{{team.description}}</p>
            </div>

            <table class="table table-hover">
                <tbody>
                    <tr ng-repeat="project in teamProjects track by $index">
                        <td valign="middle"><strong>{{project.name}}</strong></td>
                        <td>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <td>User name</td>
                                        <th class="text-center" width="40"><i class="fa fa-eye"></i></th>
                                        <th class="text-center" width="40"><i class="fa fa-plus-square-o"></i></th>
                                        <th class="text-center" width="40"><i class="fa fa-edit"></i></th>
                                        <th class="text-center" width="40"><i class="fa fa-trash-o"></i></th>
                                        <th class="text-center" width="40"><i class="fa fa-file-pdf-o"></i></th>
                                        <th class="text-center" width="40"><i class="fa fa-file-zip-o"></i></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="assignment in project.assignments track by $index">
                                        <td>
                                            <i class="fa fa-user-md" ng-if="assignment.isManager"></i>
                                            <i class="fa fa-user-o" ng-if="!assignment.isManager"></i> {{assignment.name}}
                                        </td>
                                        <td class="text-center">
                                            <div class="checkbox checkbox-circle checkbox-primary no-margins">
                                                <input type="checkbox" id="{{project.projectId}}-can-view-{{assignment.userId}}" ng-model="assignment.canView" ng-change="ctrl.updateAssignment(assignment, 'allowView')" />
                                                <label for="{{project.projectId}}-can-view-{{assignment.userId}}"></label>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="checkbox checkbox-circle checkbox-primary no-margins">
                                                <input type="checkbox" id="{{project.projectId}}-can-add-{{assignment.userId}}" ng-model="assignment.canAdd" ng-change="ctrl.updateAssignment(assignment, 'allowAdd')" />
                                                <label for="{{project.projectId}}-can-add-{{assignment.userId}}"></label>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="checkbox checkbox-circle checkbox-primary no-margins">
                                                <input type="checkbox" id="{{project.projectId}}-can-edit-{{assignment.userId}}" ng-model="assignment.canEdit" ng-change="ctrl.updateAssignment(assignment, 'allowEdit')" />
                                                <label for="{{project.projectId}}-can-edit-{{assignment.userId}}"></label>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="checkbox checkbox-circle checkbox-primary no-margins">
                                                <input type="checkbox" id="{{project.projectId}}-can-del-{{assignment.userId}}" ng-model="assignment.canDelete" ng-change="ctrl.updateAssignment(assignment, 'allowDelete')" />
                                                <label for="{{project.projectId}}-can-del-{{assignment.userId}}"></label>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="checkbox checkbox-circle checkbox-primary no-margins">
                                                <input type="checkbox" id="can-edit-{{assignment.userId}}" ng-model="assignment.canExportPdf" ng-change="ctrl.updateAssignment(assignment, 'allowExportPdf')" />
                                                <label for="{{project.projectId}}-can-pdf-{{assignment.userId}}"></label>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="checkbox checkbox-circle checkbox-primary no-margins">
                                                <input type="checkbox" id="can-edit-{{assignment.userId}}" ng-model="assignment.canExportZip" ng-change="ctrl.updateAssignment(user, 'allowExportZip')" />
                                                <label for="{{project.projectId}}-can-zip-{{assignment.userId}}"></label>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>

            <a ui-sref="home.teams.list"><i class="fa fa-arrow-left"></i> Back to list</a>
        </div>
    </div>
</div>